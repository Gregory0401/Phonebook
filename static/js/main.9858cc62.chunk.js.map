{"version":3,"sources":["redux/auth/auth-slice.js","redux/store.js","components/AppBar/Navigation/Navigation.js","components/AppBar/AuthNav/AuthNav.js","components/AppBar/UserMenu/avatar.png","components/AppBar/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/Container/Container.js","routes/PrivateRoute.js","routes/PublicRoute.js","components/App/App.js","index.js","redux/auth/auth-selectors.js","redux/phoneBook/phonebook-operations.js","components/AppBar/Navigation/Navigation.module.css","components/AppBar/AuthNav/AuthNav.module.css","redux/auth/auth-operation.js","components/AppBar/UserMenu/UserMenu.module.css","redux/phoneBook/phonebook-slice.js","components/AppBar/AppBar.module.css","components/Container/Container.module.css","redux/auth/auth-action.js"],"names":["registerRequest","authActions","registerSuccess","registerError","logInRequest","logInSuccess","logInError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","authSlice","createSlice","name","initialState","user","email","token","isLoggedIn","isLoading","error","isFetchingCurrentUser","extraReducers","state","payload","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsSlice","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","Navigation","useSelector","getIsLoggedIn","to","exact","className","s","link","activeClassName","activeLink","AuthNav","UserMenu","dispatch","useDispatch","getUserName","avatar","defaultAvatar","container","src","alt","width","type","onClick","logOut","toast","info","position","autoClose","AppBar","header","Container","children","PrivateRoute","redirectTo","PublicRoute","restricted","HomeView","lazy","LoginView","RegisterView","ContactsView","App","getFetchingCurrentUser","useEffect","fetchCurrentUser","color","height","fallback","path","element","ReactDOM","render","StrictMode","loading","document","getElementById","getAuthError","axios","defaults","baseURL","fetchContacts","createAsyncThunk","_","rejectWithValue","get","data","message","addContact","contact","post","deleteContact","contactId","delete","status","Error","module","exports","headers","common","Authorization","register","userData","logIn","getState","persistedToken","filter","reducers","changeFilter","action","fulfilled","pending","rejected","push","id","actions","createAction"],"mappings":"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","file":"static/js/main.9858cc62.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport authActions from './auth-action';\n\nconst {\n    registerRequest,\n    registerSuccess,\n    registerError,\n    logInRequest,\n    logInSuccess,\n    logInError,\n    logoutRequest,\n    logoutSuccess,\n    logoutError,\n    getCurrentUserRequest,\n    getCurrentUserSuccess,\n    getCurrentUserError,\n} = authActions;\n\nconst initialState = {\n    user: { name: null, email: null },\n    token: null,\n    isLoggedIn: false,\n    isLoading: false,\n    error: null,\n    isFetchingCurrentUser: false,\n};\n\nconst authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    extraReducers: {\n        [registerRequest]: state => {\n            state.isLoading = true;\n        },\n        [registerSuccess]: (state, { payload }) => {\n            state.user = payload.user;\n            state.token = payload.token;\n            state.isLoggedIn = true;\n            state.isLoading = false;\n        },\n        [registerError]: (state, { payload }) => {\n            state.error = payload;\n        },\n        //\n        //\n        [logInRequest]: state => {\n            state.isLoading = true;\n        },\n        [logInSuccess]: (state, { payload }) => {\n            state.user = payload.user;\n            state.token = payload.token;\n            state.isLoggedIn = true;\n            state.isLoading = false;\n        },\n        [logInError]: (state, { payload }) => {\n            state.error = payload;\n        },\n        //\n        //\n        [logoutRequest]: state => {\n            state.isLoading = true;\n        },\n        [logoutSuccess]: state => {\n            state.user = { name: null, email: null };\n            state.token = null;\n            state.isLoggedIn = false;\n            state.isLoading = false;\n            state.error = null;\n        },\n        [logoutError]: (state, { payload }) => {\n            state.error = payload;\n        },\n        //\n        //\n        [getCurrentUserRequest]: state => {\n            state.isLoading = true;\n            state.isFetchingCurrentUser = true;\n        },\n        [getCurrentUserSuccess]: (state, { payload }) => {\n            state.user = payload;\n            state.isLoggedIn = true;\n            state.isLoading = false;\n            state.isFetchingCurrentUser = false;\n        },\n        [getCurrentUserError]: state => {\n            state.isLoading = false;\n            state.isFetchingCurrentUser = false;\n        },\n    },\n});\n\nexport default authSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport {\n    persistStore,\n    persistReducer,\n    FLUSH,\n    REHYDRATE,\n    PAUSE,\n    PERSIST,\n    PURGE,\n    REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsSlice from './phoneBook/phonebook-slice';\nimport authReducer from './auth/auth-slice';\n\nconst authPersistConfig = {\n    key: 'auth',\n    storage,\n    whitelist: ['token'],\n};\n\nexport const store = configureStore({\n    reducer: {\n        auth: persistReducer(authPersistConfig, authReducer),\n        contacts: contactsSlice,\n    },\n    middleware: getDefaultMiddleware =>\n        getDefaultMiddleware({\n            serializableCheck: {\n                ignoredActions: [\n                    FLUSH,\n                    REHYDRATE,\n                    PAUSE,\n                    PERSIST,\n                    PURGE,\n                    REGISTER,\n                ],\n            },\n        }),\n    devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { getIsLoggedIn } from 'redux/auth/auth-selectors';\nimport s from './Navigation.module.css';\n\nconst Navigation = () => {\n    const isLoggedIn = useSelector(getIsLoggedIn);\n    return (\n        <nav>\n            <NavLink\n                to=\"/\"\n                exact\n                className={s.link}\n                activeClassName={s.activeLink}\n            >\n                Home\n            </NavLink>\n\n            {isLoggedIn && (\n                <NavLink\n                    to=\"/contacts\"\n                    exact\n                    className={s.link}\n                    activeClassName={s.activeLink}\n                >\n                    Contacts\n                </NavLink>\n            )}\n        </nav>\n    );\n};\n\nexport default Navigation;\n","import { NavLink } from 'react-router-dom';\nimport s from './AuthNav.module.css';\n\nexport default function AuthNav() {\n    return (\n        <div>\n            <NavLink\n                to=\"/register\"\n                exact\n                className={s.link}\n                activeClassName={s.activeLink}\n            >\n                Register\n            </NavLink>\n            <NavLink\n                to=\"/login\"\n                exact\n                className={s.link}\n                activeClassName={s.activeLink}\n            >\n                Login\n            </NavLink>\n        </div>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/avatar.c7554b2c.png\";","import { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { getUserName } from 'redux/auth/auth-selectors';\nimport { logOut } from 'redux/auth/auth-operation';\nimport defaultAvatar from './avatar.png';\nimport s from './UserMenu.module.css';\n\nexport default function UserMenu() {\n    const dispatch = useDispatch();\n    const name = useSelector(getUserName);\n    const avatar = defaultAvatar;\n\n    return (\n        <div className={s.container}>\n            <img src={avatar} alt=\"avatar\" width=\"32\" className={s.avatar} />\n            <span className={s.name}>Welcome, {name}</span>\n            <button\n                type=\"button\"\n                onClick={() => {\n                    dispatch(logOut());\n                    toast.info('You logged out of your account !', {\n                        position: 'top-center',\n                        autoClose: 2500,\n                    });\n                }}\n            >\n                Log Out\n            </button>\n        </div>\n    );\n}\n","import { useSelector } from 'react-redux';\nimport { getIsLoggedIn } from 'redux/auth/auth-selectors';\n\nimport Navigation from './Navigation';\nimport AuthNav from './AuthNav';\nimport UserMenu from './UserMenu';\n\nimport s from './AppBar.module.css';\n\nexport default function AppBar() {\n    const isLoggedIn = useSelector(getIsLoggedIn);\n\n    return (\n        <header className={s.header}>\n            <Navigation />\n            {isLoggedIn ? <UserMenu /> : <AuthNav />}\n        </header>\n    );\n}\n","import s from './Container.module.css';\nimport PropTypes from 'prop-types';\n\nconst Container = ({ children }) => (\n    <div className={s.container}>{children}</div>\n);\n\nContainer.propTypes = {\n    children: PropTypes.node,\n};\n\nexport default Container;\n","import { useSelector } from 'react-redux';\nimport { Navigate } from 'react-router';\nimport { getIsLoggedIn } from 'redux/auth/auth-selectors';\n\nexport default function PrivateRoute({ children, redirectTo = '/', ...props }) {\n    const isLoggedIn = useSelector(getIsLoggedIn);\n\n    return (\n        // <Route {...props}>\n            isLoggedIn ? children : <Navigate to={redirectTo} />\n        // </Route>\n    );\n}\n// import { useSelector } from 'react-redux';\n// import { Navigate } from 'react-router-dom';\n// import { authSelectors } from 'authorization';\n\n// export default function PrivateRoute({ children }) {\n//   const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n//   return <>{isLoggedIn ? children : <Navigate to=\"/\" />}</>;\n// }","import { useSelector } from 'react-redux';\nimport { Navigate} from 'react-router-dom';\nimport { getIsLoggedIn } from 'redux/auth/auth-selectors';\n\nexport default function PublicRoute({\n    children,\n    restricted = false,\n    redirectTo = '/',\n    ...routeProps\n}) {\n    const isLoggedIn = useSelector(getIsLoggedIn);\n    const shouldRedirect = isLoggedIn && restricted;\n    return (\n        // <Route {...routeProps}>\n            shouldRedirect ? <Navigate to={redirectTo} /> : children\n        // </Route>\n    );\n}\n","import { Suspense, lazy, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport AppBar from '../AppBar';\nimport { fetchCurrentUser } from 'redux/auth/auth-operation';\nimport Container from '../Container';\nimport PrivateRoute from 'routes/PrivateRoute';\nimport PublicRoute from 'routes/PublicRoute';\nimport { getFetchingCurrentUser } from 'redux/auth/auth-selectors';\nimport { Routes } from 'react-router';\nimport { Route } from 'react-router-dom';\n\nconst HomeView = lazy(() =>\n  import('views/HomeView' /* webpackChunkName: \"home-page\" */)\n);\nconst LoginView = lazy(() =>\n  import('views/LoginView' /* webpackChunkName: \"login-page\" */)\n);\nconst RegisterView = lazy(() =>\n  import('views/RegisterView' /* webpackChunkName: \"register-page\" */)\n);\nconst ContactsView = lazy(() =>\n  import('views/ContactsView' /* webpackChunkName: \"contacts-page\" */)\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(getFetchingCurrentUser);\n\n  useEffect(() => {\n    dispatch(fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <>\n      {isFetchingCurrentUser ? (\n        <Loader\n          className=\"Spinner\"\n          type=\"Circles\"\n          color=\"#1b39e2\"\n          height={300}\n          width={300}\n        />\n      ) : (\n        <>\n          <AppBar />\n          <ToastContainer />\n          <Container>\n            <Suspense\n              fallback={\n                <Loader\n                  className=\"Spinner\"\n                  type=\"Circles\"\n                  color=\"#1b39e2\"\n                  height={300}\n                  width={300}\n                />\n              }\n            >\n              <Routes>\n                <Route\n                  path=\"/\"\n                  exact\n                  element={\n                    <PublicRoute>\n                      <HomeView />\n                    </PublicRoute>\n                  }\n                />\n                <Route\n                  exact\n                  path=\"/register\"\n                  element={\n                    <PublicRoute redirectTo=\"/contacts\" restricted>\n                      <RegisterView />\n                    </PublicRoute>\n                  }\n                ></Route>\n\n                <Route\n                  exact\n                  path=\"/login\"\n                  element={\n                    <PublicRoute redirectTo=\"/contacts\" restricted>\n                      <LoginView />\n                    </PublicRoute>\n                  }\n                ></Route>\n\n                <Route\n                  path=\"/contacts\"\n                  element={\n                    <PrivateRoute redirectTo=\"/login\">\n                      <ContactsView />\n                    </PrivateRoute>\n                  }\n                ></Route>\n              </Routes>\n            </Suspense>\n          </Container>\n        </>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './redux/store';\nimport App from './components/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <PersistGate loading={<h2>Wait...</h2>} persistor={persistor}>\n                <BrowserRouter>\n                    <App />\n                </BrowserRouter>\n            </PersistGate>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n","export const getUserName = state => state.auth.user.name;\nexport const getIsLoggedIn = state => state.auth.isLoggedIn;\nexport const getFetchingCurrentUser = state => state.auth.isFetchingCurrentUser;\nexport const getAuthError = state => state.auth.error;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nexport const fetchContacts = createAsyncThunk(\n    'phonebook/fetchContacts',\n    async (_, { rejectWithValue }) => {\n        try {\n            const { data } = await axios.get('/contacts');\n            return data;\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    },\n);\n\nexport const addContact = createAsyncThunk(\n    'phonebook/addContact',\n    async (contact, { rejectWithValue }) => {\n        try {\n            const { data } = await axios.post('/contacts', contact);\n            return data;\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    },\n);\n\nexport const deleteContact = createAsyncThunk(\n    'phonebook/deleteContact',\n    async (contactId, { rejectWithValue }) => {\n        try {\n            const { status } = await axios.delete(`/contacts/${contactId}`);\n            if (status === 200) {\n                return contactId;\n            } else {\n                throw new Error({ message: 'error' });\n            }\n        } catch (error) {\n            return rejectWithValue(error.message);\n        }\n    },\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__YyxB8\",\"activeLink\":\"Navigation_activeLink__OgrPt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__HsFlU\",\"activeLink\":\"AuthNav_activeLink__3HbVg\"};","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport authActions from './auth-action';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = '';\n    },\n};\n\nexport const register = userData => async dispatch => {\n    dispatch(authActions.registerRequest());\n\n    try {\n        const { data } = await axios.post('/users/signup', userData);\n        token.set(data.token);\n        dispatch(authActions.registerSuccess(data));\n    } catch (error) {\n        dispatch(authActions.registerError(error.message));\n        toast.error(error.message);\n    }\n};\n\nexport const logIn = userData => async dispatch => {\n    dispatch(authActions.logInRequest());\n\n    try {\n        const { data } = await axios.post('/users/login', userData);\n        token.set(data.token);\n\n        dispatch(authActions.logInSuccess(data));\n    } catch (error) {\n        dispatch(authActions.logInError(error.message));\n        toast.error(error.message);\n    }\n};\n\nexport const logOut = userData => async dispatch => {\n    dispatch(authActions.logoutRequest());\n    try {\n        await axios.post('/users/logout');\n        token.unset();\n        dispatch(authActions.logoutSuccess());\n    } catch (error) {\n        dispatch(authActions.logoutError(error.message));\n    }\n};\n\nexport const fetchCurrentUser = () => async (dispatch, getState) => {\n    const {\n        auth: { token: persistedToken },\n    } = getState();\n\n    if (!persistedToken) return;\n\n    token.set(persistedToken);\n    dispatch(authActions.getCurrentUserRequest());\n\n    try {\n        const { data } = await axios.get('/users/current');\n        dispatch(authActions.getCurrentUserSuccess(data));\n    } catch (error) {\n        dispatch(authActions.getCurrentUserError(error.message));\n    }\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__f3UoN\",\"avatar\":\"UserMenu_avatar__3fZxw\",\"name\":\"UserMenu_name__3AUlF\"};","import { createSlice } from '@reduxjs/toolkit';\nimport {\n    addContact,\n    deleteContact,\n    fetchContacts,\n} from './phonebook-operations';\n\nconst contactsSlice = createSlice({\n    name: 'phoneBook',\n    initialState: {\n        contacts: [],\n        isLoading: false,\n        filter: '',\n    },\n    reducers: {\n        changeFilter: (state, action) => {\n            state.filter = action.payload;\n        },\n    },\n    extraReducers: {\n        [fetchContacts.fulfilled](state, { payload }) {\n            state.contacts = payload;\n            state.isLoading = false;\n        },\n        [fetchContacts.pending](state) {\n            state.isLoading = true;\n        },\n        [fetchContacts.rejected](state) {\n            state.isLoading = false;\n        },\n        //\n        //\n        [addContact.pending](state) {\n            state.isLoading = true;\n        },\n        [addContact.fulfilled](state, { payload }) {\n            state.contacts.push(payload);\n            state.isLoading = false;\n        },\n        [addContact.rejected](state) {\n            state.isLoading = false;\n        },\n        //\n        //\n        [deleteContact.pending](state) {\n            state.isLoading = true;\n        },\n        [deleteContact.fulfilled](state, { payload }) {\n            state.contacts = state.contacts.filter(\n                contact => contact.id !== payload,\n            );\n            state.isLoading = false;\n        },\n        [deleteContact.rejected](state) {\n            state.isLoading = false;\n        },\n    },\n});\n\nexport default contactsSlice.reducer;\nexport const { changeFilter } = contactsSlice.actions;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1Yk8v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","import { createAction } from '@reduxjs/toolkit';\n\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst logInRequest = createAction('auth/logInRequest');\nconst logInSuccess = createAction('auth/logInSuccess');\nconst logInError = createAction('auth/logInError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\nconst authActions = {\n    registerRequest,\n    registerSuccess,\n    registerError,\n    logInRequest,\n    logInSuccess,\n    logInError,\n    logoutRequest,\n    logoutSuccess,\n    logoutError,\n    getCurrentUserRequest,\n    getCurrentUserSuccess,\n    getCurrentUserError,\n};\n\nexport default authActions;\n"],"sourceRoot":""}