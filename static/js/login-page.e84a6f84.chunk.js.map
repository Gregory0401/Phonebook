{"version":3,"sources":["views/LoginView/LoginView.module.css","views/LoginView/LoginView.js"],"names":["module","exports","LoginView","useState","email","setEmail","password","setPassword","error","setError","dispatch","useDispatch","isUserError","useSelector","getAuthError","isLoggedIn","getIsLoggedIn","useEffect","handleChange","target","name","value","to","className","s","title","contactForm","onSubmit","e","preventDefault","logIn","toast","success","position","autoClose","form","label","formInput","type","placeholder","onChange","disabled"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,UAAY,6BAA6B,YAAc,+BAA+B,MAAQ,yB,oKCOlI,SAASC,IACpB,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA0BJ,mBAAS,MAAnC,mBAAOK,EAAP,KAAcC,EAAd,KACMC,EAAWC,cACXC,EAAcC,YAAYC,KAC1BC,EAAaF,YAAYG,KAE/BC,qBAAU,WACNR,EAASG,EACZ,GAAE,CAACA,IAEJ,IAAMM,EAAe,SAAC,GAAiC,IAAD,IAA9BC,OAAUC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,MACpC,OAAQD,GACJ,IAAK,QACD,OAAOf,EAASgB,GACpB,IAAK,WACD,OAAOd,EAAYc,GACvB,QACI,OAEX,EAaD,OAAQN,EAuCJ,cAAC,IAAD,CAAUO,GAAG,cAtCb,qCACI,oBAAIC,UAAWC,IAAEC,MAAjB,oBACA,qBAAKF,UAAWC,IAAEE,YAAlB,SACI,uBAAMC,SAfG,SAAAC,GACjBA,EAAEC,iBACFnB,EAASoB,YAAM,CAAE1B,QAAOE,cACxByB,IAAMC,QAAN,mBAA0B5B,EAA1B,KAAoC,CAChC6B,SAAU,aACVC,UAAW,OAEf7B,EAAS,IACTE,EAAY,GACf,EAMyCgB,UAAWC,IAAEW,KAA3C,UACI,wBAAOZ,UAAWC,IAAEY,MAApB,iBAEI,uBACIb,UAAWC,IAAEa,UACbC,KAAK,QACLlB,KAAK,QACLC,MAAOjB,EACPmC,YAAY,aACZC,SAAUtB,OAIlB,wBAAOK,UAAWC,IAAEY,MAApB,qBAEI,uBACIb,UAAWC,IAAEa,UACbC,KAAK,WACLlB,KAAK,WACLC,MAAOf,EACPkC,SAAUtB,EACVqB,YAAY,qBAIpB,wBACID,KAAK,SACLG,UAAWrC,IAAUE,IAAaE,EAFtC,2BAYnB,C","file":"static/js/login-page.e84a6f84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"LoginView_label__8gyhF\",\"formInput\":\"LoginView_formInput__3K4Zv\",\"contactForm\":\"LoginView_contactForm__1GzJD\",\"title\":\"LoginView_title__KnQI_\"};","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Navigate } from 'react-router';\nimport { toast } from 'react-toastify';\nimport { logIn } from 'redux/auth/auth-operation';\nimport s from './LoginView.module.css';\nimport { getAuthError, getIsLoggedIn } from 'redux/auth/auth-selectors';\n\nexport default function LoginView() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState(null);\n    const dispatch = useDispatch();\n    const isUserError = useSelector(getAuthError);\n    const isLoggedIn = useSelector(getIsLoggedIn);\n\n    useEffect(() => {\n        setError(isUserError);\n    }, [isUserError]);\n\n    const handleChange = ({ target: { name, value } }) => {\n        switch (name) {\n            case 'email':\n                return setEmail(value);\n            case 'password':\n                return setPassword(value);\n            default:\n                return;\n        }\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        dispatch(logIn({ email, password }));\n        toast.success(`Welcome, ${email}!`, {\n            position: 'top-center',\n            autoClose: 2500,\n        });\n        setEmail('');\n        setPassword('');\n    };\n\n    return !isLoggedIn ? (\n        <>\n            <h2 className={s.title}>Log In</h2>\n            <div className={s.contactForm}>\n                <form onSubmit={handleSubmit} className={s.form}>\n                    <label className={s.label}>\n                        Mail\n                        <input\n                            className={s.formInput}\n                            type=\"email\"\n                            name=\"email\"\n                            value={email}\n                            placeholder=\"Your Email\"\n                            onChange={handleChange}\n                        />\n                    </label>\n\n                    <label className={s.label}>\n                        Password\n                        <input\n                            className={s.formInput}\n                            type=\"password\"\n                            name=\"password\"\n                            value={password}\n                            onChange={handleChange}\n                            placeholder=\"Your Password\"\n                        />\n                    </label>\n\n                    <button\n                        type=\"submit\"\n                        disabled={!email && !password && !error}\n                    >\n                        Submit\n                    </button>\n                </form>\n            </div>\n        </>\n    ) : (\n        <Navigate to=\"/contacts\" />\n    );\n}\n"],"sourceRoot":""}